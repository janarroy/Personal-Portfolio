<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Races â€“ Jan Arroyo</title>
  <meta name="description" content="Marathons and races by Jan Arroyo" />
  <link href="styles.css?v=7" rel="stylesheet" />
</head>
<body class="plain-bg">
  <!-- Navbar -->
  <nav class="nav">
    <div class="container nav-inner">
      <a class="brand" href="./">JAN</a>
      <div class="nav-links">
        <a class="btn" href="work.html">Projects</a>
        <a class="btn" href="races.html">Races</a>
        <a class="btn" href="bake.html">Bake</a>
        <a class="btn" href="travel.html">Travel</a>
        <a class="btn" href="#contact">Contact</a>
      </div>
    </div>
  </nav>

  <main class="container work">
    <h1 class="page-title">Races</h1>
    <p class="tag">Marathons & distance events Iâ€™ve run.</p>

    <!-- === Race: Long Beach Half Marathon (Oct 6, 2024) === -->
    <section class="race" data-date="2024-10-06" id="long-beach-2024">
        <div class="race-grid panel">
          <!-- Header inside the card -->
          <div class="race-bar">
            <h2>Long Beach Half Marathon</h2>
            <span class="race-date">October 6, 2024</span>
          </div>
      
          <!-- Body: slider + notes -->
          <div class="race-body">
            <!-- Slider -->
            <div class="race-slider" data-race="long-beach-2024">
              <div class="slides">
                <img src="images/races/LongBeachHalf1.JPG" alt="Long Beach Half Marathon 2024 â€“ photo 1">
                <img src="images/races/LongBeachHalf2.JPG" alt="Long Beach Half Marathon 2024 â€“ photo 2">
                <img src="images/races/LongBeachHalf3.JPG" alt="Long Beach Half Marathon 2024 â€“ photo 3">
              </div>
              <button class="nav prev" aria-label="Previous photo">â€¹</button>
              <button class="nav next" aria-label="Next photo">â€º</button>
              <div class="dots"></div>
            </div>
      
            <!-- Notes -->
            <aside class="race-notes">
              <h3 class="race-title">Long Beach Half Marathon</h3>
              <div class="race-meta">October 6, 2024 Â· 13.1 miles</div>
              <p>
                First half! Gorgeous course along the waterfront. Settled into pace early,
                stayed patient through miles 8â€“10, and kicked on the final stretch. Learned
                a lot about fueling and not going out too hot ðŸ˜….
              </p>
              <ul class="race-bullets">
                <li>Course: flat + coastal breeze</li>
                <li>Fuel: gels + water every station</li>
                <li>Shoes: (fill in)</li>
                <li>Goal next time: negative split</li>
              </ul>
            </aside>
          </div>
        </div>
      </section>
      
      <section class="race">
        <h2>Surf City Marathon</h2>
        <p class="race-date">February 2, 2025</p>
        <div class="race-slideshow">
          <div class="slide active">
            <img src="images/races/SurfCity1.JPG" alt="Surf City Marathon 1">
          </div>
          <div class="slide">
            <img src="images/races/SurfCity2.JPG" alt="Surf City Marathon 2">
          </div>
          <div class="slide">
            <img src="images/races/SurfCity3.JPG" alt="Surf City Marathon 3">
          </div>
          <div class="slide">
            <video controls>
              <source src="images/races/SurfCity4.mp4" type="video/quicktime">
              Your browser does not support the video tag.
            </video>
          </div>
      
          <a class="prev" onclick="changeSlide(-1, this)">&#10094;</a>
          <a class="next" onclick="changeSlide(1, this)">&#10095;</a>
        </div>
      </section>
      
      
  </main>

  <footer><div class="container">Â© <span id="y"></span> Jan Arroyo</div></footer>

  <!-- Simple lightbox (reuses your CSS) -->
  <div class="lightbox" id="lb"><div class="lightbox-content">
    <div class="lightbox-header"><strong>Photo</strong><button class="close" id="lbClose">Close</button></div>
    <div class="lightbox-body"><img id="lbImg" alt=""></div>
  </div></div>

  <script>
    // Year in footer (if you use the same pattern)
    document.getElementById('y') && (document.getElementById('y').textContent = new Date().getFullYear());
  
    // Sort races by date (newest â†’ oldest)
    (function sortRaces(){
      const container = document.querySelector('main.container.work') || document.querySelector('main');
      if(!container) return;
      const races = Array.from(container.querySelectorAll('.race'));
      races.sort((a,b) => (b.dataset.date||'').localeCompare(a.dataset.date||''));
      races.forEach(r => container.insertBefore(r, container.querySelector('footer, script')));
    })();
  
    // Simple slider
    (function initSliders(){
      document.querySelectorAll('.race-slider').forEach(slider => {
        const track = slider.querySelector('.slides');
        const slides = Array.from(track.children);
        if (!slides.length) return;
  
        let idx = 0;
        const prev = slider.querySelector('.prev');
        const next = slider.querySelector('.next');
        const dotsWrap = slider.querySelector('.dots');
  
        // Build dots
        dotsWrap.innerHTML = '';
        slides.forEach((_, i) => {
          const d = document.createElement('button');
          if (i === 0) d.classList.add('active');
          d.addEventListener('click', () => go(i));
          dotsWrap.appendChild(d);
        });
        const dots = Array.from(dotsWrap.children);
  
        function render(){
          track.style.transform = `translateX(${-idx * 100}%)`;
          dots.forEach((d,i)=>d.classList.toggle('active', i===idx));
        }
        function go(i){
          idx = (i + slides.length) % slides.length;
          render();
        }
        prev.addEventListener('click', () => go(idx - 1));
        next.addEventListener('click', () => go(idx + 1));
  
        // Swipe (mobile)
        let startX = 0, dragging = false;
        slider.addEventListener('pointerdown', e => { dragging = true; startX = e.clientX; });
        slider.addEventListener('pointerup', e => {
          if(!dragging) return; dragging = false;
          const dx = e.clientX - startX;
          if (dx > 40) go(idx - 1);
          if (dx < -40) go(idx + 1);
        });
  
        render();
      });
    })();
  </script>
  

</body>
</html>
