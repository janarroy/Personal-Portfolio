/* ----------------------------------------------------
   Jan – Portfolio (clean, light theme + fixed flip card)
   ---------------------------------------------------- */

/* Theme tokens */
:root {
    --bg: #f6f7f9;          /* page background */
    --panel: #ffffff;       /* cards/panels */
    --muted: #60646c;       /* secondary text */
    --text: #111318;        /* primary text */
    --brand: #3b82f6;       /* accent */
    --ring: rgba(59,130,246,.25);
  
    /* Flip card sizing */
    --card-w: 520px;        /* tweak this to make it bigger/smaller */
    --card-ratio: 16 / 9;   /* 3/2 or 4/3 if that matches your photo better */
  }
  
  * { box-sizing: border-box; }
  html, body { height: 100%; }
  
  body {
    margin: 0;
    font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background:
      radial-gradient(900px 600px at 15% -10%, rgba(59,130,246,.08), transparent 55%),
      radial-gradient(900px 600px at 115% 0%, rgba(2,132,199,.07), transparent 60%),
      var(--bg);
    color: var(--text);
  }
  
  a { color: inherit; text-decoration: none; }
  .container { width: min(1100px, 92vw); margin: 0 auto; }
  
  /* Navbar (light) */
  .nav {
    position: sticky; top: 0; z-index: 50;
    backdrop-filter: blur(8px);
    background: linear-gradient(to bottom, rgba(255,255,255,.85), rgba(255,255,255,.65));
    border-bottom: 1px solid rgba(17,19,24,.08);
  }
  .nav-inner { display:flex; align-items:center; justify-content:space-between; padding:14px 0; }
  .brand { font-weight: 800; letter-spacing:.3px; }
  .nav a.btn { padding:10px 14px; border:1px solid rgba(17,19,24,.12); border-radius:999px; font-weight:600; color:var(--text); }
  .nav a.btn:hover { background: rgba(17,19,24,.04); border-color: rgba(17,19,24,.18); }
  .nav-links { display:flex; gap:8px; align-items:center; }
  
  /* Hero / Splash */
  .splash {
    padding: 90px 0 40px;
    display: grid; gap: 24px;
    grid-template-columns: 1.15fr .85fr;
    align-items: center;
    min-height: calc(100vh - 70px);
  }
  @media (max-width: 900px){ .splash { grid-template-columns: 1fr; } }
  
  .console-line {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    color:#0f5132; background:#e6f4ea; border:1px solid #cfead8;
    padding:8px 10px; border-radius: 10px; width: fit-content;
    box-shadow: 0 0 0 6px rgba(16,185,129,.15);
  }
  .console-line .caret{ margin-left:6px; color:#2aa36b; opacity:.9; animation: blink 1s steps(1) infinite; }
  @keyframes blink { 50% { opacity:.2; } }
  
  .name { font-size: clamp(28px, 5vw, 52px); line-height: 1.05; margin: 14px 0 0; }
  .name span {
    background: linear-gradient(90deg, #2563eb, #0ea5e9);
    -webkit-background-clip: text; background-clip: text; color: transparent;
  }
  
  .tag { color: var(--muted); font-size: clamp(16px, 2.2vw, 18px); margin: 8px 0 0; }
  .cta-row { display:flex; gap:10px; margin-top:18px; flex-wrap:wrap; }
  .primary { background: var(--brand); color:#fff; border-radius:12px; padding:12px 16px; font-weight:700; border:1px solid transparent; }
  .primary:hover { filter:brightness(1.05); box-shadow: 0 0 0 6px var(--ring); }
  .ghost { background:#fff; border:1px solid rgba(17,19,24,.12); color:var(--text); border-radius:12px; padding:12px 16px; font-weight:700; }
  .ghost:hover { background: rgba(17,19,24,.05); }
  
  /* Right column layout */
  .splash-right { display:flex; flex-direction:column; gap:14px; align-items:flex-start; }
  
  /* ---------- Rotating line under the name ---------- */
  .rotate-line{
    margin-top: 10px;
    font-size: clamp(16px, 2.2vw, 18px);
    color: var(--muted);
    min-height: 1.6em;      /* avoid layout shift while typing */
    letter-spacing: .1px;
    white-space: nowrap;
  }
  .caret{ margin-left:6px; opacity:.9; animation: blink 1s steps(1) infinite; }
  .rotate-line .caret { color:#6b7280; }
  
  /* ---------- Panels / generic ---------- */
  section { padding: 56px 0; }
  .panel {
    background: var(--panel);
    border:1px solid rgba(17,19,24,.10);
    border-radius:16px;
    padding:18px;
    box-shadow: 0 10px 30px rgba(17,19,24,.04);
  }
  
  /* ---------- Work page ---------- */
  .work { padding: 80px 0 40px; }
  .page-title { font-size: 28px; margin: 0 0 18px; }
  .filters { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:14px; }
  .chip { border:1px solid rgba(17,19,24,.12); padding:8px 12px; border-radius:999px; font-size:13px; color:var(--muted); cursor:pointer; }
  .chip.active { background: rgba(59,130,246,.12); color:#1e40af; border-color: rgba(59,130,246,.35); }
  
  /* Masonry */
  .masonry { column-count:1; column-gap:16px; }
  @media (min-width:640px){ .masonry { column-count:2; } }
  @media (min-width:980px){ .masonry { column-count:3; } }
  .card { break-inside:avoid; margin:0 0 16px; display:block; }
  .card .thumb { border-radius:14px; overflow:hidden; border:1px solid rgba(17,19,24,.10); }
  .card img { width:100%; display:block; height:auto; }
  .card .meta { padding:10px 4px 0; }
  .card .meta .tag { font-size:12px; color:#1e40af; }
  .card .meta h3 { margin:6px 0 4px; font-size:16px; }
  .card .meta p { margin:0; color:var(--muted); font-size:14px; }
  
  /* Lightbox (unchanged structure, light colors) */
  .lightbox { position:fixed; inset:0; background: rgba(0,0,0,.6); display:none; align-items:center; justify-content:center; padding:24px; }
  .lightbox.open { display:flex; }
  .lightbox-content { background:#fff; border:1px solid rgba(17,19,24,.10); border-radius:14px; max-width:1100px; width:100%; overflow:hidden; }
  .lightbox-header { display:flex; justify-content:space-between; align-items:center; padding:10px 14px; border-bottom:1px solid rgba(17,19,24,.08); }
  .lightbox-body { max-height:70vh; overflow:auto; }
  .lightbox-body img { width:100%; height:auto; display:block; }
  .close { background:transparent; border:1px solid rgba(17,19,24,.2); color:var(--text); border-radius:10px; padding:6px 10px; cursor:pointer; }
  
  /* Footer */
  footer { padding: 40px 0 70px; color: var(--muted); text-align:center; font-size:13px; }
  
  /* Timeline */
  .timeline { display:grid; gap:14px; }
  @media (min-width:860px){ .timeline { grid-template-columns:1fr 1fr; } }
  .item h4 { margin:0; font-size:18px; }
  .item .org { color:#374151; font-weight:600; }
  .item .time { color:var(--muted); font-size:13px; }
  .item ul { margin:10px 0 0 18px; color:var(--muted); }
  
  /* ---------- Spotify heading ---------- */
  .spotify-title{ margin:6px 0 8px; font-size:16px; color:#374151; font-weight:700; }
  
  /* ====================================================
     FLIP CARD (RIGHT COLUMN) – FIXED SIZE, NO JUMPING
     ==================================================== */
     .flip-card{
        perspective: 1200px;
        width: 100%;
        max-width: var(--card-w);
      }
      
      .flip-inner{
        position: relative;
        width: 100%;
        aspect-ratio: var(--card-ratio); /* keeps the “normal” shape */
        height: auto;                    /* let aspect-ratio control height */
        transform-style: preserve-3d;
        transition: transform 1.1s ease-in-out; /* slower & smoother */
        border-radius: 16px;
      }
      
      /* Faces fill that box exactly */
      .flip-face{
        position: absolute; inset: 0;
        backface-visibility: hidden; -webkit-backface-visibility: hidden;
        border-radius: 16px; overflow: hidden;
        box-shadow: 0 12px 30px rgba(17,19,24,.06);
        border: 1px solid rgba(17,19,24,.10);
      }
      
      .flip-front img{
        width: 100%;
        height: 100%;
        object-fit: cover; /* natural landscape look without stretching */
        display: block;
      }
      
      /* Back remains the same size as the front */
      .flip-back{ transform: rotateY(180deg); background: var(--panel); color: var(--text); }
      .about-back{ height: 100%; padding: 16px; overflow: auto; }
  
  /* Back content */
  .about-avatar{
    width: 96px; height: 96px; border-radius: 9999px;
    object-fit: cover; display:block;
    border: 1px solid rgba(17,19,24,.12);
    box-shadow: 0 6px 16px rgba(17,19,24,.08);
    margin-bottom: 10px;
  }
  .about-intro{ margin:0 0 8px; }
  .about-bullets{ margin:8px 0 12px; padding-left:18px; color:var(--muted); }
  .about-bullets li{ margin:4px 0; }
  
  .about-links{ display:flex; gap:8px; flex-wrap:wrap; }
  .link-pill{
    display:inline-flex; align-items:center; gap:6px;
    padding:8px 12px; border-radius:999px; background:#fff;
    color:var(--text); border:1px solid rgba(17,19,24,.12);
    text-decoration:none; font-size:14px;
  }
  .link-pill:hover{ background: rgba(17,19,24,.05); }
  
  /* === Flip card – force size + smooth spin === */
.flip-card{
    position: relative;          /* ensure it can sit above embeds */
    z-index: 1;
    perspective: 1200px;
    width: 100%;
    max-width: 520px;            /* change to resize card */
  }
  .flip-inner{
    position: relative;
    width: 100%;
    aspect-ratio: 3 / 2;         /* 3/2 looks like a normal photo; try 4/3 or 16/9 */
    transform-style: preserve-3d;
    transition: transform 1.2s ease-in-out;  /* slower + smoother */
    border-radius: 16px;
  }
  .flip-card:hover .flip-inner,
  .flip-card.flipped .flip-inner{
    transform: rotateY(180deg);
  }
  .flip-face{
    position: absolute; inset: 0;
    backface-visibility: hidden; -webkit-backface-visibility: hidden;
    border-radius: 16px; overflow: hidden;
    box-shadow: 0 12px 30px rgba(17,19,24,.06);
    border: 1px solid rgba(17,19,24,.10);
  }
  .flip-front img{
    width: 100%; height: 100%;
    object-fit: cover; display: block;
  }
  .flip-back{
    transform: rotateY(180deg);
    background: var(--panel); color: var(--text);
  }
  .about-back{
    height: 100%;
    padding: 16px;
    overflow: auto; /* just in case text is taller than card */
  }
  .about-avatar{
    width: 96px; height: 96px; border-radius: 9999px;
    object-fit: cover; display:block;
    border: 1px solid rgba(17,19,24,.12);
    box-shadow: 0 6px 16px rgba(17,19,24,.08);
    margin-bottom: 10px;
  }
  
  /* make sure the playlist doesn't overlap hover area */
  .spotify-wrap { position: relative; z-index: 0; }
  /* === Flip card (final) — correct size, smooth spin, no cropping === */
:root{
    /* tune these two to your taste */
    --card-w: 560px;     /* overall width of the photo/card */
    --card-ratio: 3 / 2; /* 3/2 looks like a normal camera photo; try 4/3 or 16/9 */
  }
  
  .flip-card{
    position: relative;
    z-index: 1;
    perspective: 1200px;
    width: 100%;
    max-width: var(--card-w);
  }
  
  .flip-inner{
    position: relative;
    width: 100%;
    aspect-ratio: var(--card-ratio);   /* keeps “normal” photo shape */
    transform-style: preserve-3d;
    transition: transform 1.25s ease-in-out; /* slower, smoother */
    border-radius: 16px;
  }
  
  .flip-card:hover .flip-inner,
  .flip-card.flipped .flip-inner{      /* mobile tap can toggle .flipped */
    transform: rotateY(180deg);
  }
  
  .flip-face{
    position: absolute; inset: 0;
    backface-visibility: hidden; -webkit-backface-visibility: hidden;
    border-radius: 16px; overflow: hidden;
    box-shadow: 0 12px 30px rgba(17,19,24,.06);
    border: 1px solid rgba(17,19,24,.10);
  }
  
  /* FRONT: show whole image without cropping */
  .flip-front img{
    width: 100%;
    height: 100%;
    object-fit: contain;       /* <— ensures the whole photo is visible */
    background: #fff;          /* behind letterboxing if any */
    display: block;
  }
  
  /* BACK: same size as front */
  .flip-back{
    transform: rotateY(180deg);
    background: var(--panel);
    color: var(--text);
  }
  .about-back{
    height: 100%;
    padding: 16px;
    overflow: auto;            /* scroll if text is tall */
  }
  
  /* Back content */
  .about-avatar{
    width: 112px; height: 112px; border-radius: 9999px;
    object-fit: cover; display:block;
    border: 1px solid rgba(17,19,24,.12);
    box-shadow: 0 6px 16px rgba(17,19,24,.08);
    margin-bottom: 10px;
  }
  
  /* === Flip card (portrait image, smooth spin, no bars) === */
:root{
    --card-w: 560px;        /* width of the card; tweak to taste */
    --card-ratio: 3 / 4;    /* your beach photo is portrait; try 4/5 if needed */
  }
  
  .flip-card{
    position: relative;
    z-index: 1;
    perspective: 1200px;
    width: 100%;
    max-width: var(--card-w);
  }
  
  .flip-inner{
    position: relative;
    width: 100%;
    aspect-ratio: var(--card-ratio);   /* now matches your photo shape */
    transform-style: preserve-3d;
    transition: transform 1.25s ease-in-out; /* slower & smoother */
    border-radius: 16px;
  }
  
  .flip-card:hover .flip-inner,
  .flip-card.flipped .flip-inner{
    transform: rotateY(180deg);
  }
  
  .flip-face{
    position: absolute; inset: 0;
    backface-visibility: hidden; -webkit-backface-visibility: hidden;
    border-radius: 16px; overflow: hidden;
    box-shadow: 0 12px 30px rgba(17,19,24,.06);
    border: 1px solid rgba(17,19,24,.10);
  }
  
  /* FRONT: show full image */
  .flip-front img{
    width: 100%;
    height: 100%;
    object-fit: contain;   /* show whole photo, no cropping */
    display: block;
    /* removed background:#fff; to avoid the “widget” bars */
  }
  
  /* BACK: same size */
  .flip-back{
    transform: rotateY(180deg);
    background: var(--panel);
    color: var(--text);
  }
  .about-back{
    height: 100%;
    padding: 16px;
    overflow: auto;
  }
  
  /* Circular headshot on back */
  .about-avatar{
    width: 112px; height: 112px; border-radius: 9999px;
    object-fit: cover; display:block;
    border: 1px solid rgba(17,19,24,.12);
    box-shadow: 0 6px 16px rgba(17,19,24,.08);
    margin-bottom: 10px;
  }
  
  /* ===== Races layout + slider ===== */
/* ===== Races layout + slider (canonical) ===== */

.race { margin: 18px 0; }

.race-grid {
  display: grid;
  grid-template-columns: 1.2fr .8fr;
  grid-template-areas:
    "bar   bar"
    "media notes";
  gap: 16px;
}
@media (max-width: 900px){
  .race-grid {
    grid-template-columns: 1fr;
    grid-template-areas:
      "bar"
      "media"
      "notes";
  }
}

/* Card header row */
.race-bar{
  grid-area: bar;
  display:flex; align-items:baseline; justify-content:space-between; gap:12px;
  margin: -18px -18px 12px;          /* span full card width */
  padding: 12px 18px;
  border-bottom: 1px solid rgba(17,19,24,.10);
  border-top-left-radius: 16px; border-top-right-radius: 16px;
  background: var(--panel);
}
.race-bar h2{ margin:0; font-size:22px; }
.race-bar .race-date{ color:var(--muted); font-size:14px; }

/* Body (slider + notes) */
.race-body{
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  gap:16px;
}
@media (max-width: 900px){
  .race-body{ grid-template-columns: 1fr; }
}

.race-slider{ grid-area: media; }
.race-notes{ grid-area: notes; }

.race-notes .race-title { margin: 0 0 4px; font-size: 22px; }
.race-notes .race-meta  { color: var(--muted); font-size: 14px; margin-bottom: 10px; }
.race-bullets { margin: 10px 0 0 18px; color: var(--muted); }

/* Auto-height slider (no cropping) */
.race-slider{
  position: relative;
  width: 100%;
  max-width: 720px;
  /* aspect-ratio: 3 / 2;  <-- REMOVE this */
  border-radius: 14px;
  overflow: hidden;
  background: #fff;
  height: auto;                  /* let JS set explicit height */
}

.race-slider .slides{
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: 100%;
  transition: transform .45s ease;
  align-items: center;
}

.race-slider .slides > img,
.race-slider .slides > video{
  width: 100%;
  height: auto;                  /* key: use natural aspect */
  object-fit: contain !important;
  display: block;
  background: #fff;
}



/* Arrows & dots */
.race-slider .nav{
  position:absolute; top:50%; transform:translateY(-50%);
  background: rgba(17,19,24,.65); color:#fff; border:0;
  width:36px; height:36px; border-radius:999px; display:grid; place-items:center; cursor:pointer;
  z-index: 2;
}
.race-slider .prev{ left:10px; }
.race-slider .next{ right:10px; }
.race-slider .nav:hover{ background: rgba(17,19,24,.8); }

.race-slider .dots{
  position:absolute; left:50%; bottom:10px; transform:translateX(-50%);
  display:flex; gap:6px; z-index: 2;
}
.race-slider .dots button{
  width:8px; height:8px; border-radius:999px; border:0;
  background: rgba(17,19,24,.25); cursor:pointer;
}
.race-slider .dots button.active{ background: rgba(17,19,24,.6); }

/* Page background: keep races page solid */
body.plain-bg{
  background: var(--bg) !important;
  background-image: none !important;
}
