<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Travel – Jan Arroyo</title>

<style>
  :root{
    --bg-cream:#fff7ed;
    --ink:#111827;
    --muted:#6b7280;
    --pill:#f3f4f6;
    --ring:rgba(17,24,39,.12);
    --card:#fff;
    --accent:#f59e0b;
    --shadow:0 10px 30px rgba(17,24,39,.12);
    --bezier:cubic-bezier(.22,.61,.36,1);
  }

  html,body{margin:0;padding:0}
  body{
    font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial;
    color:var(--ink);
    background:
      radial-gradient(1200px 600px at 20% -10%, var(--bg-cream) 0%, #f7efe5 45%, #f6f6f8 100%);
    min-height:100dvh;
    overflow-x:hidden;
  }
  .container{max-width:1120px;margin:0 auto;padding:20px 20px 100px}

  /* ---------- Top nav (same look across site) ---------- */
  .topbar{position:sticky;top:0;z-index:20;backdrop-filter:saturate(1.2) blur(8px);
    background:linear-gradient(180deg,rgba(255,255,255,.78),rgba(255,255,255,.58));
    border-bottom:1px solid rgba(17,24,39,.06)
  }
  .topbar-inner{max-width:1120px;margin:0 auto;padding:10px 20px;display:flex;gap:16px;align-items:center}
  .brand{font-weight:800;letter-spacing:.08em}
  .brand a{text-decoration:none;color:var(--ink)}
  .nav{margin-left:auto;display:flex;gap:10px;flex-wrap:wrap}
  .pill{padding:8px 14px;border-radius:999px;background:var(--pill);text-decoration:none;color:#0f172a;font-weight:600;
    box-shadow:inset 0 0 0 1px rgba(17,24,39,.08)}
  .pill.active{background:#111827;color:#fff}

  /* ---------- Decorative scene: dashed route + plane ---------- */
  .scene{position:fixed;inset:0;z-index:0;pointer-events:none;opacity:.8}
  /* tiny Spain flag badge */
  .flag{position:fixed;right:24px;top:84px;width:52px;height:34px;border-radius:6px;
    border:1px solid rgba(17,24,39,.15);box-shadow:0 10px 24px rgba(17,24,39,.18);
    background:linear-gradient(#c81e1e 0 30%, #facc15 30% 70%, #c81e1e 70% 100%);
    animation:flagBob 6s ease-in-out infinite;pointer-events:none;z-index:1}
  @keyframes flagBob{0%,100%{transform:translateY(0) rotate(-3deg)}50%{transform:translateY(6px) rotate(-1deg)}}

  /* ---------- “Boarding pass” header strip ---------- */
  .ticket-wrap{position:relative;z-index:1;margin-top:10px;margin-bottom:14px}
  .ticket{
    display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:16px;
    background:linear-gradient(180deg,#fffaf4,#fff4e6);
    padding:14px 18px;border-radius:18px;box-shadow:var(--shadow);
    border:1px solid rgba(17,24,39,.08);
    position:relative;isolation:isolate;
  }
  /* perforation holes */
  .ticket::before,.ticket::after{
    content:"";position:absolute;top:50%;transform:translateY(-50%);width:12px;height:84%;
    background:radial-gradient(circle at center,#fff 5px,transparent 6px) left/12px 18px repeat-y;
    opacity:.8
  }
  .ticket::before{left:-6px}
  .ticket::after{right:-6px}
  .tick-l{display:flex;flex-direction:column}
  .air{font-weight:900;letter-spacing:.2em;font-size:12px}
  .tag{font-size:12px;color:var(--muted)}
  .tick-m h1{font-size:clamp(22px,3.2vw,32px);margin:0}
  .sub{margin:2px 0 0;color:var(--muted);font-size:14px}
  .tick-r{display:grid;place-items:center}
  .barcode{width:84px;height:30px;border-radius:6px;background:
    repeating-linear-gradient(90deg,#111827 0 2px, transparent 2px 4px) ,#fff;
    border:1px solid rgba(17,24,39,.12)}

  /* ---------- Section title ---------- */
  .section-title{margin:20px 0 10px 0;font-size:20px;font-weight:800;display:flex;align-items:center;gap:10px}
  .section-title::after{content:"";height:1px;background:rgba(17,24,39,.10);flex:1}

  /* ---------- Trip grid ---------- */
  .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:18px;position:relative;z-index:1}
  @media (max-width:820px){.grid{grid-template-columns:1fr}}
  .trip{background:var(--card);border-radius:18px;border:1px solid rgba(17,24,39,.06);overflow:hidden;
    box-shadow:var(--shadow);position:relative;transition:transform .18s var(--bezier),box-shadow .18s var(--bezier);
    opacity:0;transform:translateY(12px) scale(.995)}
  .trip.in-view{opacity:1;transform:translateY(0) scale(1)}
  .trip:hover{transform:translateY(-2px);box-shadow:0 16px 40px rgba(17,24,39,.16)}
  .trip .date{position:absolute;top:10px;left:10px;background:rgba(17,24,39,.86);color:#fff;border-radius:999px;
    padding:6px 10px;font-size:12px}
  .trip img{width:100%;height:320px;object-fit:cover;display:block}
  .trip .meta{padding:12px 14px 14px}
  .trip h3{margin:0 0 4px 0;font-size:18px}
  .trip p{margin:0;color:var(--muted);font-size:14px}

  /* ---------- Cream Lightbox ---------- */
  .lightbox{position:fixed;inset:0;display:none;place-items:center;z-index:30;background:rgba(17,24,39,.35);
    backdrop-filter:blur(4px) saturate(1.05)}
  .lightbox.open{display:grid;animation:fadeIn .25s ease forwards}
  @keyframes fadeIn{from{opacity:0}to{opacity:1}}
  .lb-card{width:min(1020px,92vw);max-height:86vh;display:grid;grid-template-columns:1.15fr .85fr;gap:14px;
    background:linear-gradient(180deg,#fff8ef,#fff4e6);border:1px solid rgba(17,24,39,.08);border-radius:18px;
    box-shadow:0 30px 80px rgba(17,24,39,.28);overflow:hidden;position:relative;
    transform:translateY(8px) scale(.98);opacity:0;animation:cardIn .32s var(--bezier) forwards .1s}
  @keyframes cardIn{to{transform:translateY(0) scale(1);opacity:1}}
  @media (max-width:920px){.lb-card{grid-template-columns:1fr;max-height:88vh}}
  .lb-left{padding:14px;display:grid;grid-template-rows:auto auto}
  .lb-stage{background:#fff;border-radius:12px;border:1px solid rgba(17,24,39,.06);display:grid;place-items:center;
    position:relative;overflow:hidden;height:min(58vh,520px)}
  .lb-stage img{max-width:100%;max-height:100%;object-fit:contain;opacity:0;transition:opacity .2s ease}
  .lb-stage img.show{opacity:1}
  .navbtn{position:absolute;top:50%;transform:translateY(-50%);background:rgba(17,24,39,.75);color:#fff;border:none;
    border-radius:999px;width:34px;height:34px;display:grid;place-items:center;cursor:pointer}
  .navbtn.left{left:10px}.navbtn.right{right:10px}
  .thumbs{display:flex;gap:8px;overflow:auto;margin-top:10px;padding-bottom:6px}
  .thumbs img{width:62px;height:62px;border-radius:10px;object-fit:cover;border:2px solid transparent;cursor:pointer}
  .thumbs img.active{border-color:var(--accent)}
  .lb-right{padding:16px 18px 18px 6px}
  .lb-title{font-weight:800;font-size:20px;margin:2px 0 2px}
  .lb-sub{color:var(--muted);font-size:13px;margin-bottom:10px}
  .lb-notes{line-height:1.6;font-size:15px;overflow:auto;max-height:calc(86vh - 190px)}
  .lb-close{position:absolute;top:10px;right:10px;border:none;background:#111827;color:#fff;border-radius:999px;
    width:36px;height:36px;font-size:18px;cursor:pointer;box-shadow:0 8px 18px rgba(17,24,39,.2)}

  /* ---------- Zoom clone for smooth open ---------- */
  .zoom-clone{position:fixed;z-index:40;border-radius:14px;object-fit:cover;box-shadow:0 16px 40px rgba(17,24,39,.25);
    transition:all .45s var(--bezier)}
</style>
</head>
<body>

  <!-- Top nav -->
  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand"><a href="index.html">JAN</a></div>
      <nav class="nav">
        <a class="pill" href="index.html">Projects</a>
        <a class="pill" href="races.html">Races</a>
        <a class="pill" href="bake.html">Bake</a>
        <a class="pill active" href="travel.html">Travel</a>
        <a class="pill" href="work.html">Contact</a>
      </nav>
    </div>
  </header>

  <!-- vector scene: dashed path + plane -->
  <svg class="scene" viewBox="0 0 1440 900" preserveAspectRatio="none" aria-hidden="true">
    <defs>
      <g id="plane" transform="scale(.9)">
        <path d="M0 0 l40 14 l-8 10 l-12 -3 l-6 10 l12 4 l-4 8 l-22 -5 l-14 14 l-10 -2 l10 -18 l-24 -6 l4 -8 l24 2 l8 -14 l-20 -6 l4 -8 z"
              fill="#111827" opacity=".85"/>
      </g>
    </defs>
    <path id="route1" d="M60,720 C360,620 880,160 1360,260" stroke="rgba(17,24,39,.22)" stroke-width="1.5"
          stroke-dasharray="6 9" fill="none">
      <animate attributeName="stroke-dashoffset" from="0" to="-220" dur="12s" repeatCount="indefinite"/>
    </path>
    <use href="#plane">
      <animateMotion dur="18s" repeatCount="indefinite" rotate="auto"><mpath href="#route1"/></animateMotion>
    </use>
  </svg>
  <div class="flag" aria-hidden="true"></div>

  <main class="container">
    <!-- Boarding-pass style header (shorter + unique) -->
    <div class="ticket-wrap">
      <div class="ticket">
        <div class="tick-l">
          <div class="air">JAN&nbsp;AIR</div>
          <div class="tag">TRAVEL LOG</div>
        </div>
        <div class="tick-m">
          <h1>Trips I’ve loved</h1>
          <div class="sub">Small moments, big smiles. Click a card to open photos and a short story.</div>
        </div>
        <div class="tick-r"><div class="barcode" aria-hidden="true"></div></div>
      </div>
    </div>

    <h2 class="section-title">Trips</h2>

    <!-- Trip cards -->
    <section class="grid" id="tripGrid">
      <!-- Spain -->
      <article
        class="trip reveal"
        data-title="Spain — March 2023"
        data-date="Mar 2023"
        data-notes="First time in Spain. Long walks, late dinners, and getting happily lost among old streets."
        data-images="images/Spain1.JPG|images/spain1.JPG,images/Spain2.JPG|images/spain2.JPG,images/Spain3.JPG|images/spain3.JPG">
        <span class="date">Mar 2023</span>
        <img alt="Spain" src="images/Spain1.JPG" onerror="this.onerror=null;this.src='images/spain1.JPG'">
        <div class="meta"><h3>Spain</h3><p>sunsets • stone streets • way too many photos</p></div>
      </article>

      <!-- New York -->
      <article
        class="trip reveal"
        data-title="New York — July 2024"
        data-date="Jul 2024"
        data-notes="Bagels, bridges, and catching our breath in the shade."
        data-images="images/NewYork1.JPG,images/NewYork2.JPG,images/NewYork3.JPG,images/NewYork4.JPG,images/NewYork5.JPG">
        <span class="date">Jul 2024</span>
        <img alt="New York" src="images/NewYork1.JPG">
        <div class="meta"><h3>New York</h3><p>bridges • bagels • late sunsets on the water</p></div>
      </article>

      <!-- Catalina Island (with filename fallbacks) -->
      <article
        class="trip reveal"
        data-title="Catalina Island — Jan 2025"
        data-date="Jan 2025"
        data-notes="Cold air, warm sun. Quiet mornings and boats everywhere."
        data-images="images/CatalinaIsland1.JPG|images/Catalinaisland1.JPG|images/Catalinalisland1.JPG,
                     images/CatalinaIsland2.JPG|images/Catalinaisland2.JPG|images/Catalinalisland2.JPG,
                     images/CatalinaIsland3.JPG|images/Catalinaisland3.JPG|images/Catalinalisland3.JPG">
        <span class="date">Jan 2025</span>
        <img alt="Catalina Island"
             src="images/CatalinaIsland1.JPG"
             onerror="this.onerror=null;this.src='images/Catalinaisland1.JPG';this.onerror=function(){this.src='images/Catalinalisland1.JPG'}">
        <div class="meta"><h3>Catalina Island</h3><p>quiet coves • boats • crisp mornings</p></div>
      </article>

      <!-- Hawaii -->
      <article
        class="trip reveal"
        data-title="Hawaii — March 2025"
        data-date="Mar 2025"
        data-notes="Palm shade, short hikes, and impossible blues. Slower days I still think about."
        data-images="images/Hawaii1.JPG,images/Hawaii2.JPG,images/Hawaii3.JPG,images/Hawaii4.JPG|images/Hawaii.JPG">
        <span class="date">Mar 2025</span>
        <img alt="Hawaii" src="images/Hawaii1.JPG" onerror="this.onerror=null;this.src='images/Hawaii.JPG'">
        <div class="meta"><h3>Hawaii</h3><p>tide pools • snacks • windows down</p></div>
      </article>
    </section>
  </main>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lb-card" role="dialog" aria-modal="true">
      <button class="lb-close" id="lbClose" aria-label="Close">✕</button>

      <div class="lb-left">
        <div class="lb-stage" id="stage">
          <button class="navbtn left" id="prev" aria-label="Previous">‹</button>
          <img id="lbImg" alt="">
          <button class="navbtn right" id="next" aria-label="Next">›</button>
        </div>
        <div class="thumbs" id="thumbs"></div>
      </div>

      <div class="lb-right">
        <div class="lb-title" id="lbTitle">Trip</div>
        <div class="lb-sub" id="lbDate">Date</div>
        <div class="lb-notes" id="lbNotes">Notes</div>
      </div>
    </div>
  </div>

<script>
  /* reveal-in on scroll */
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('in-view'); io.unobserve(e.target);} });
  },{threshold:.2, rootMargin:"-10% 0px -10% 0px"});
  document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

  /* resolve first working image from a pipe-separated list */
  function pick(paths, cb){
    const list=(paths||"").split('|').map(s=>s.trim()).filter(Boolean);
    if(!list.length){ cb(""); return; }
    let i=0, img=new Image();
    (function tryNext(){
      if(i>=list.length){ cb(list[0]); return; }
      img=new Image();
      img.onload=()=>cb(list[i]);
      img.onerror=()=>{ i++; tryNext(); };
      img.src=list[i];
    })();
  }

  /* --- Lightbox state --- */
  const cards=document.querySelectorAll('.trip');
  const lb=document.getElementById('lightbox');
  const lbImg=document.getElementById('lbImg');
  const lbTitle=document.getElementById('lbTitle');
  const lbDate=document.getElementById('lbDate');
  const lbNotes=document.getElementById('lbNotes');
  const thumbs=document.getElementById('thumbs');
  const btnPrev=document.getElementById('prev');
  const btnNext=document.getElementById('next');
  const btnClose=document.getElementById('lbClose');
  const stage=document.getElementById('stage');

  let current=[], index=0, openerImg=null;

  function openFromCard(card){
    const raw=card.dataset.images.split(',').map(s=>s.trim());
    const resolved=[]; let done=0;
    raw.forEach((entry,k)=>pick(entry,(ok)=>{ resolved[k]=ok; done++; if(done===raw.length){ showLB(card,resolved.filter(Boolean)); }}));
  }

  function showLB(card,list){
    current=list; index=0;
    lbTitle.textContent=card.dataset.title||''; lbDate.textContent=card.dataset.date||''; lbNotes.textContent=card.dataset.notes||'';

    /* --- smooth zoom from card image --- */
    openerImg=card.querySelector('img');
    const srcRect=openerImg.getBoundingClientRect();
    const clone=openerImg.cloneNode(true);
    clone.className='zoom-clone';
    Object.assign(clone.style,{top:srcRect.top+'px',left:srcRect.left+'px',width:srcRect.width+'px',height:srcRect.height+'px'});
    document.body.appendChild(clone);

    // pre-open the lightbox (hidden image), measure stage rect
    lb.classList.add('open');
    lb.setAttribute('aria-hidden','false');
    const tgtRect=stage.getBoundingClientRect();
    requestAnimationFrame(()=>{
      Object.assign(clone.style,{
        top:(tgtRect.top+10)+'px', left:(tgtRect.left+10)+'px',
        width:(tgtRect.width-20)+'px', height:(tgtRect.height-20)+'px', borderRadius:'12px'
      });
    });

    clone.addEventListener('transitionend',()=>{
      clone.remove();
      renderStage(); renderThumbs();
    },{once:true});
  }

  function renderStage(){
    if(!current.length) return;
    lbImg.classList.remove('show');
    lbImg.onload=()=>lbImg.classList.add('show');
    lbImg.src=current[index];
    [...thumbs.children].forEach((t,i)=>t.classList.toggle('active',i===index));
  }
  function renderThumbs(){
    thumbs.innerHTML='';
    current.forEach((src,i)=>{
      const im=new Image(); im.src=src; if(i===index) im.classList.add('active');
      im.addEventListener('click',()=>{ index=i; renderStage(); });
      thumbs.appendChild(im);
    });
  }
  function closeLB(){
    lb.classList.remove('open');
    lb.setAttribute('aria-hidden','true');
    lbImg.src=''; thumbs.innerHTML='';
  }

  btnPrev.addEventListener('click',()=>{ index=(index-1+current.length)%current.length; renderStage(); });
  btnNext.addEventListener('click',()=>{ index=(index+1)%current.length; renderStage(); });
  btnClose.addEventListener('click',closeLB);
  lb.addEventListener('click',(e)=>{ if(e.target===lb) closeLB(); });
  document.addEventListener('keydown',(e)=>{
    if(!lb.classList.contains('open')) return;
    if(e.key==='Escape') closeLB();
    if(e.key==='ArrowLeft') btnPrev.click();
    if(e.key==='ArrowRight') btnNext.click();
  });

  cards.forEach(c=>c.addEventListener('click',()=>openFromCard(c)));
</script>
</body>
</html>
